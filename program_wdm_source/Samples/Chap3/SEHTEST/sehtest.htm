<HTML>
<HEAD>
</HEAD>
<BODY">

<H2>The SEHTEST Sample</H2>
<P>The SEHTEST Sample accompanies Chapter 3 and illustrates the use of a structured exception frame.</P>
<P>The sample includes one component:</P>

<UL>
<LI>SEHTEST.SYS is a WDM driver for a non-existent hardware device. </LI></UL>

<H3>Building SEHTEST</H3>
<P>To build SEHTEST.SYS, follow the <A HREF="../../wdmbook.htm#wdmbuild">general instructions for building a WDM sample</A>. The Microsoft Visual C++ project file is named SEHTEST.DSP.</P>
<H3>Testing SEHTEST</H3>
<P>Install the SEHTEST.SYS driver. Follow the general instructions for using <A HREF="../../wdmbook.htm#fastinst">FastInst</A> in Windows XP or Windows 98/Me. The INF file is named DEVICE.INF. </P>
<P>To verify that SEHTEST has done the right thing, you need to view the debugging output from the driver. Either run under the control of a debugger, or start DbgView (see <A HREF="http://www.sysinternals.com/">http://www.sysinternals.com</A>) beforehand.</P>
<P>Note that the SEHTEST device will show up in the Device Manager display with a yellow exclamation mark to indicate that no driver could be loaded. This is the normal result of installing this sample, because DriverEntry returns a failure code.</P>

<h3>What to look for</h3>
<p><b>DriverEntry</b> (in DriverEntry.cpp) raises a number of exceptions that it catches using
structured exception frames.</p>

</BODY>
</HTML>
